set nocompatible
set backspace=indent,eol,start
set history=100          
set number
" keep 100 lines of command line history
set ruler               
" show the cursor position all the time
set showcmd             
" show partial command in status line
set viminfo='80,%,n~/.viminfo
set guifont=Source\ Code\ Pro\ Regular\ 16 
"mouse move with mouse insert middle mouse 		
set mouse=a
map <MiddleMouse> "+gP 
 "map <S-Insert> <MiddleMouse>
" map! <S-Insert> <MiddleMouse>
" colors:
let g:solarized_termcolors=256
colorscheme solarized
set background=dark
"folds
""set foldmethod=indent
""set shiftwidth=4
"""""""""""""""""""""""""""
"set foldmethod=expr
"fold with Tab
"set foldexpr=getline(v:lnum)[0]==\"\\t\"
"fold with new line
set foldexpr=getline(v:lnum)=~'^\\s*$'&&getline(v:lnum+1)=~'\\S'?'<1':1
"set modeline
set modelines=1
" Enable filetype plugins
filetype plugin on
filetype indent on
" Set to auto read when a file is changed from the outside
set autoread
" With a map leader it's possible to do extra key combinations
let mapleader = ","
let g:mapleader = ","
"nmap <leader><F3> "+gP 
" For regular expressions turn magic onsdsdsd
"
set magic
"set nobackup
set nowb
set noswapfile
"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" установить keymap, чтобы по Ctrl+^ переключался на руский и обратно
"set keymap=russian-jcukenwin 
" по умолчанию - латинская раскладка
set iminsert=0
" по умолчанию - латинская раскладка при поиске
set imsearch=0
" игнорировать регистр при поиске
set ic
"syntax
syntax enable
" подсвечивать поиск
set hls
" использовать инкрементальный поиск
set is
" ширина текста 
"set textwidth=80
" минимальная высота окна пусть будет 0 (по умолчанию - 1)
set winminheight=0
" всегда делать активное окно максимального размера
set noequalalways
set winheight=9999
" настраиваю для работы с русскими словами (чтобы w, b, * понимали
" русские слова)
set iskeyword=@,48-57,_,192-255
" задать размер табуляции в четыре пробела
set ts=4
" отображение выполняемой команды
set showcmd 
" перенос по словам, а не по буквам
set linebreak
set dy=lastline
" ширина отступов
"set tabstop=4
set shiftwidth=4
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
"Remaping
"NERD_commenter
nmap // <leader>c<space>
vmap // <leader>cs
imap <F2> <Esc>:w<CR>
map <F2> <Esc>:w<CR>
"copy paste global
imap <F3> "+y
map <F3> "+y
imap <F4> "+gp
map <F4> "+gp
"orphographia
set wildmenu
set wcm=<Tab>
menu SetSpell.ru  :set spl=ru spell<CR>
menu SetSpell.en  :set spl=en spell<CR>
menu SetSpell.off :set nospell<CR>
map <F5> :emenu SetSpell.<Tab>
" выбор альтернатив:
imap <F6> <Esc> z=<CR>i
map <F6> z=<CR>
"imap <F6> <Esc> :tabnext <CR>i
"map <F6> :tabnext <CR>
" Shortcuts for moving between tabs.
"Alt-j to move to the tab to the left
noremap <A-j> gT
" Alt-k to move to the tab to the right
noremap <A-k> gt
" Encodings
"<F7> EOL format (dos <CR><NL>,unix <NL>,mac <CR>)
                set  wildmenu
                set  wcm=<Tab>
                menu EOL.unix :set fileformat=unix<CR>
                menu EOL.dos  :set fileformat=dos<CR>
                menu EOL.mac  :set fileformat=mac<CR>
                menu EOL.my_win2unix :%s /\r\n/\r/g<CR>
                map  <F7> :emenu EOL.<Tab>
"<F8> Change encoding
                set  wildmenu
                set  wcm=<Tab>
                menu Enc.cp1251     :e ++enc=cp1251<CR>
                menu Enc.koi8-r     :e ++enc=koi8-r<CR>
                menu Enc.cp866      :e ++enc=ibm866<CR>
                menu Enc.utf-8      :e ++enc=utf-8<CR>
                menu Enc.ucs-2le    :e ++enc=ucs-2le<CR>
                menu Enc.HexView    :Hex4me<CR>
                map  <F8> :emenu Enc.<Tab>
"<Shift+F8> Convert file encoding
                set  wildmenu
                set  wcm=<Tab>
                menu FEnc.cp1251    :set fenc=cp1251<CR>
                menu FEnc.koi8-r    :set fenc=koi8-r<CR>
                menu FEnc.cp866     :set fenc=ibm866<CR>
                menu FEnc.utf-8     :set fenc=utf-8<CR>
                menu FEnc.ucs-2le   :set fenc=ucs-2le<CR>
                map  <S-F8> :emenu FEnc.<Tab>

"variants exit with F10
set wildmenu
set wcm=<Tab>
menu Exit.save     :exit<CR>
menu Exit.quit     :quit<CR>
menu Exit.quit!    :quit!<CR>
map <F10> :emenu Exit.<Tab>
"nnoremap <silent> <F12> :TagbarToggle<CR>
"menu save.as.root  :w !sudo tee %<CR>
"save as root
cmap w!! w !sudo tee > /dev/null %

:nnoremap <space> za
set statusline=%<%f%h%m%r%=format=%{&fileformat}\ file=%{&fileencoding}\ file=%{&filetype}\ enc=%{&encoding}\ %b\ 0x%B\ %l,%c%V\ %P
set laststatus=2
" по звездочке не прыгать на следующее найденное, а просто подсветить
nnoremap * *N
" выключить подсветку: повесить на горячую клавишу Ctrl-F8
nnoremap <F9> :nohlsearch<CR>
""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
" "Files"                   Настройки для файлов {{{1
" ==============================================================================

" Кодировка по умолчанию
set encoding=utf-8                                  " set charset translation encoding
set termencoding=utf-8                              " set terminal encoding
set fileencoding=utf-8                              " set save encoding
set fileencodings=utf-8,koi8r,cp1251,cp866,ucs-2le   " список предполагаемых кодировок, в порядке предпочтения
set fileformat=unix          " Формат файла по умолчанию
set fileformats=unix,dos,mac " Порядок определения формата файла
set langmap=ёйцукенгшщзхъфывапролджэячсмитьбюЁЙЦУКЕHГШЩЗХЪФЫВАПРОЛДЖЭЯЧСМИТЬБЮ;`qwertyuiop[]asdfghjkl\\;'zxcvbnm\\,.~QWERTYUIOP{}ASDFGHJKL:\\"ZXCVBNM<>
" other ru-en setting  ctrl+^ (F12) - change layout
"set keymap=russian-jcukenwin 
"set iminsert=0
"imap <F12> 
"cmap <F12> 
